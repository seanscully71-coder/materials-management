{bidPackages.length > 0 ? (
    <div className="space-y-8">
        {/* Active Bid Packages */}
        {bidPackages.filter(pkg => pkg.status !== 'closed' && pkg.status !== 'awarded').length > 0 && (
            <div>
                <h3 className="text-xl font-semibold mb-4 text-green-700">Active Bid Packages</h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {bidPackages
                        .filter(pkg => pkg.status !== 'closed' && pkg.status !== 'awarded')
                        .map(pkg => {
                            const packageBids = getBidsForPackage(pkg.id);
                            const lowestBid = getLowestBid(packageBids);
                            
                            return (
                                <div key={pkg.id} className="bg-white p-6 rounded-lg shadow hover:shadow-lg transition-shadow border-l-4 border-green-500">
                                    <div className="flex justify-between items-start mb-3">
                                        <div className="flex-1">
                                            <h3 className="text-lg font-semibold">{pkg.name}</h3>
                                            <p className="text-sm text-gray-600 mt-1">
                                                {pkg.material === 'aluminum5052' ? 'Aluminum 5052' : 'Stainless Steel 304 2B'}
                                            </p>
                                        </div>
                                        <span className={`px-2 py-1 rounded text-xs ${
                                            pkg.status === 'open' ? 'bg-green-100 text-green-800' :
                                            pkg.status === 'reviewing' ? 'bg-yellow-100 text-yellow-800' :
                                            'bg-gray-100 text-gray-800'
                                        }`}>
                                            {pkg.status}
                                        </span>
                                    </div>

                                    <div className="space-y-2 mb-4">
                                        <div className="flex justify-between text-sm">
                                            <span className="text-gray-600">Target Quantity:</span>
                                            <span className="font-medium">{parseFloat(pkg.targetQuantity).toLocaleString()} lbs</span>
                                        </div>
                                        <div className="flex justify-between text-sm">
                                            <span className="text-gray-600">Period:</span>
                                            <span className="font-medium">{pkg.period}</span>
                                        </div>
                                        <div className="flex justify-between text-sm">
                                            <span className="text-gray-600">Bids Received:</span>
                                            <span className="font-medium">{packageBids.length}</span>
                                        </div>
                                        {lowestBid && (
                                            <div className="flex justify-between text-sm pt-2 border-t">
                                                <span className="text-gray-600">Best Price:</span>
                                                <span className="font-bold text-green-600">
                                                    ${lowestBid.pricePerLb}/lb ({lowestBid.vendor})
                                                </span>
                                            </div>
                                        )}
                                    </div>

                                    <div className="flex gap-2">
                                        <button
                                            onClick={() => setSelectedBidPackage(pkg)}
                                            className="flex-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm"
                                        >
                                            View Bids ({packageBids.length})
                                        </button>
                                        <button
                                            onClick={() => {
                                                setEditingBidPackage(pkg);
                                                setShowBidPackageForm(true);
                                            }}
                                            className="px-3 py-2 border rounded hover:bg-gray-100 text-sm"
                                        >
                                            Edit
                                        </button>
                                        <button
                                            onClick={() => deleteBidPackage(pkg.id)}
                                            className="px-3 py-2 border border-red-300 text-red-600 rounded hover:bg-red-50 text-sm"
                                        >
                                            Delete
                                        </button>
                                    </div>
                                </div>
                            );
                        })}
                </div>
            </div>
        )}

        {/* Closed Bid Packages */}
        {bidPackages.filter(pkg => pkg.status === 'closed' || pkg.status === 'awarded').length > 0 && (
            <div>
                <h3 className="text-xl font-semibold mb-4 text-gray-600">Closed Bid Packages</h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {bidPackages
                        .filter(pkg => pkg.status === 'closed' || pkg.status === 'awarded')
                        .sort((a, b) => new Date(b.createdDate) - new Date(a.createdDate))
                        .map(pkg => {
                            const packageBids = getBidsForPackage(pkg.id);
                            const lowestBid = getLowestBid(packageBids);
                            
                            return (
                                <div key={pkg.id} className="bg-gray-50 p-6 rounded-lg shadow hover:shadow-lg transition-shadow border-l-4 border-gray-400">
                                    <div className="flex justify-between items-start mb-3">
                                        <div className="flex-1">
                                            <h3 className="text-lg font-semibold text-gray-700">{pkg.name}</h3>
                                            <p className="text-sm text-gray-600 mt-1">
                                                {pkg.material === 'aluminum5052' ? 'Aluminum 5052' : 'Stainless Steel 304 2B'}
                                            </p>
                                        </div>
                                        <span className={`px-2 py-1 rounded text-xs ${
                                            pkg.status === 'awarded' ? 'bg-blue-100 text-blue-800' :
                                            'bg-gray-100 text-gray-800'
                                        }`}>
                                            {pkg.status}
                                        </span>
                                    </div>

                                    <div className="space-y-2 mb-4">
                                        <div className="flex justify-between text-sm">
                                            <span className="text-gray-600">Target Quantity:</span>
                                            <span className="font-medium">{parseFloat(pkg.targetQuantity).toLocaleString()} lbs</span>
                                        </div>
                                        <div className="flex justify-between text-sm">
                                            <span className="text-gray-600">Period:</span>
                                            <span className="font-medium">{pkg.period}</span>
                                        </div>
                                        <div className="flex justify-between text-sm">
                                            <span className="text-gray-600">Bids Received:</span>
                                            <span className="font-medium">{packageBids.length}</span>
                                        </div>
                                        {lowestBid && (
                                            <div className="flex justify-between text-sm pt-2 border-t">
                                                <span className="text-gray-600">Best Price:</span>
                                                <span className="font-bold text-green-600">
                                                    ${lowestBid.pricePerLb}/lb ({lowestBid.vendor})
                                                </span>
                                            </div>
                                        )}
                                        <div className="flex justify-between text-sm">
                                            <span className="text-gray-600">Created:</span>
                                            <span className="font-medium">{pkg.createdDate}</span>
                                        </div>
                                    </div>

                                    <div className="flex gap-2">
                                        <button
                                            onClick={() => setSelectedBidPackage(pkg)}
                                            className="flex-1 px-3 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm"
                                        >
                                            View Bids ({packageBids.length})
                                        </button>
                                        <button
                                            onClick={() => {
                                                setEditingBidPackage(pkg);
                                                setShowBidPackageForm(true);
                                            }}
                                            className="px-3 py-2 border rounded hover:bg-gray-100 text-sm"
                                        >
                                            Edit
                                        </button>
                                        <button
                                            onClick={() => deleteBidPackage(pkg.id)}
                                            className="px-3 py-2 border border-red-300 text-red-600 rounded hover:bg-red-50 text-sm"
                                        >
                                            Delete
                                        </button>
                                    </div>
                                </div>
                            );
                        })}
                </div>
            </div>
        )}
    </div>
) : (
